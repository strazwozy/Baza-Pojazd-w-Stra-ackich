<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Baza woz√≥w stra≈ºackich</title>
<style>
body { font-family: Arial; background:#f2f2f2; padding:20px; }
.woz { background:white; margin:10px; padding:10px; border-radius:8px; display:flex; gap:10px; align-items:flex-start; }
img { width:150px; border-radius:6px; }
input, select { margin:5px; padding:5px; }
.woz-info { display:flex; flex-direction: column; gap:3px; }
</style>
</head>
<body>

<h1>üöí Baza woz√≥w stra≈ºackich w Polsce</h1>

<input type="text" id="search" placeholder="Szukaj jednostki...">

<select id="filterWoj">
  <option value="">Wszystkie wojew√≥dztwa</option>
  <option value="Ma≈Çopolskie">Ma≈Çopolskie</option>
  <option value="Mazowieckie">Mazowieckie</option>
  <option value="Pomorskie">Pomorskie</option>
  <option value="Wielkopolskie">Wielkopolskie</option>
  <option value="Dolno≈õlƒÖskie">Dolno≈õlƒÖskie</option>
  <option value="≈ölƒÖskie">≈ölƒÖskie</option>
  <option value="≈Å√≥dzkie">≈Å√≥dzkie</option>
  <option value="Lubelskie">Lubelskie</option>
  <option value="Lubuskie">Lubuskie</option>
  <option value="Opolskie">Opolskie</option>
  <option value="Podkarpackie">Podkarpackie</option>
  <option value="Podlaskie">Podlaskie</option>
  <option value="≈öwiƒôtokrzyskie">≈öwiƒôtokrzyskie</option>
  <option value="Warmi≈Ñsko-Mazurskie">Warmi≈Ñsko-Mazurskie</option>
  <option value="Zachodniopomorskie">Zachodniopomorskie</option>
</select>

<div id="lista"></div>

<!-- Skrypt do wczytania CSV i generowania woz√≥w -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script>
const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRwKwEe01e0RZlUh2JicVjJsISlaxlWZQNYzfUgrYqa8QfKxn0JLPF5tLrbOikyH2P2ElU_qVSYjbLq/pub?output=csv'; // CSV w repozytorium lub link do Google Sheets

Papa.parse(csvUrl, {
    download: true,
    header: true,
    complete: function(results) {
        window.wozy = results.data;
      // SORTOWANIE PO ID (rosnƒÖco)
        window.wozy.sort((a, b) => {
            return Number(a.ID) - Number(b.ID);
        });

        displayWozow();
    }
});
      

function displayWozow() {
    const lista = document.getElementById('lista');
    const search = document.getElementById('search').value.toLowerCase();
    const wojFilter = document.getElementById('filterWoj').value;
    lista.innerHTML = '';

    window.wozy.forEach(w => {
        if (w.Jednostka.toLowerCase().includes(search) &&
            (wojFilter === '' || w.Wojew√≥dztwo === wojFilter)) {

            const div = document.createElement('div');
            div.className = 'woz';
            div.innerHTML = `
                <img src="${w.Zdjƒôcie}" alt="${w.Jednostka}">
                <div class="woz-info">
                    <strong>ID:</strong> ${w.ID}
                    <strong>Jednostka:</strong> ${w.Jednostka}
                    <strong>Wojew√≥dztwo:</strong> ${w.Wojew√≥dztwo}
                    <strong>Marka:</strong> ${w.Marka}
                    <strong>Rok:</strong> ${w.Rok}
                    <strong>Status:</strong> ${w.Status}
                    <strong>Rejestracja:</strong> ${w.Rejestracja || '-'}
                    <strong>Inne:</strong> ${w.Inne || '-'}
                </div>
            `;
            lista.appendChild(div);
        }
    });
}

document.getElementById('search').addEventListener('input', displayWozow);
document.getElementById('filterWoj').addEventListener('change', displayWozow);

  //Lightbox
  function openLightbox(woz) {
    document.getElementById(‚Äölightbox-img‚Äô).src = woz.Zdjƒôcie;
    document.getElementById(‚Äölightbox-info‚Äô).innerHTML = `
        <strong>ID:</strong> ${woz.ID} <br>
        <strong>Jednostka:</strong> ${woz.Jednostka} <br>
        <strong>Wojew√≥dztwo:</strong> ${woz.Wojew√≥dztwo} <br>
        <strong>Marka:</strong> ${woz.Marka} <br>
        <strong>Rok:</strong> ${woz.Rok} <br>
        <strong>Status:</strong> ${woz.Status} <br>
        <strong>Rejestracja:</strong> ${woz.Rejestracja || ‚Äö-‚Äö} <br>
        <strong>Inne:</strong> ${woz.Inne || ‚Äö-‚Äö}
    `;
    document.getElementById(‚Äölightbox‚Äô).style.display = ‚Äöflex‚Äô;
}

function closeLightbox() {
    document.getElementById(‚Äölightbox‚Äô).style.display = ‚Äönone‚Äô;
}

<script>
  
</script>

</body>
</html>
